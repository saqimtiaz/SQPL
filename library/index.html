<!doctype html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="application-name" content="TiddlyWiki Plugin Library" />
<meta name="application-version" content="v0.0.0" />
<meta name="copyright" content="Copyright 2015 Jeremy Ruston" />
<link id="faviconLink" rel="shortcut icon" href="favicon.ico">
<title>Plugin Library</title>
<script>
var assetList = [
    {
        "title": "$:/plugins/sq/file-uploads-PUT",
        "description": "EXPERIMENTAL PUT uploader for uploading binary files to external storage",
        "name": "File Uploads: PUT",
        "author": "Saq Imtiaz",
        "core-version": ">=5.1.23",
        "plugin-priority": 0,
        "list": "readme settings",
        "parent-plugin": "$:/plugins/commons/file-uploads",
        "version": "0.1.2",
        "plugin-type": "plugin",
        "dependents": "",
        "type": "application/json",
        "readme": "@@color:red;''Highly experimental - no support available. Use at your own risk.''@@ \n\nPUT uploader module for the File Uploads plugin. Saves to ~WebDav or other servers accepting PUT requests.\n\nCurrently the uploader derives the base URL for the ~WebDav server from the URL of the document. This fits the use case of using a ~WebDav (or other PUT enabled server) used to host a ~TiddlyWiki that can be saved.\n\nFor a lightweight and easy solution for hosting a local ~TiddlyWiki using ~WebDav see this [[discussion|https://talk.tiddlywiki.org/t/use-webdav-for-saving-a-single-file-wiki/441]].",
        "requires-reload": "yes"
    },
    {
        "title": "$:/plugins/commons/file-uploads",
        "name": "File Uploads",
        "description": "Upload binary files to external storage",
        "author": "Saq Imtiaz",
        "core-version": ">=5.2.0",
        "plugin-priority": 0,
        "list": "readme settings",
        "version": "0.1.7",
        "plugin-type": "plugin",
        "dependents": "",
        "type": "application/json",
        "readme": "Experimental plugin in active development for uploading binary tiddlers to different storage backends and creating canonical_uri tiddlers in their stead.\n\nIt is recommended to ''disable ~AutoSave when using this plugin'', to avoid saving imported binary tiddlers twice and using up twice the bandwidth.\n\nStorage backends are pluggable and can be added via uploader modules. This plugin includes a \"dummy\" uploader module that implements the minimal interface needed for an uploader module but does not actually upload anything and just logs to the developer console.\n\nAfter installing this plugin and at least one uploader sub-plugin, you must configure the uploader to use in the [[settings|$:/plugins/commons/file-uploads/settings]] of this plugin.\n\nThis plugin uses a [[filter|$:/config/fileUploadFilter]] to determine which tiddlers are uploaded. The default filter uploads all binary tiddlers over 100kb in size.\n\nAlternatively, you can disable the automatic file uploads and use the widget message `tm-upload-tiddlers` to manually upload specific tiddlers as files. The message accepts a `param` that is a filter which specifies the tiddlers to upload.\n\nExamples:\n\n* `<$action-sendmessage $message=\"tm-upload-tiddlers\" $param=\"MyTiddler\"/>`\n* `<$action-sendmessage $message=\"tm-upload-tiddlers\" $param=\"[type[image/png]]\"/>`",
        "requires-reload": "yes"
    },
    {
        "title": "$:/plugins/commons/file-uploads-fission",
        "description": "Fission uploader for uploading binary files to external storage",
        "name": "File Uploads: Fission",
        "author": "Saq Imtiaz",
        "core-version": ">=5.1.23",
        "plugin-priority": 0,
        "list": "readme settings",
        "parent-plugin": "$:/plugins/commons/file-uploads",
        "version": "0.1.4",
        "plugin-type": "plugin",
        "dependents": "",
        "type": "application/json",
        "readme": "Fission uploader module for the File Uploads plugin. Saves uploads to Fission's Webnative file system which is based on IPFS.\n\nMeant for use on [[TiddlyWiki on Fission|https://tiddlywiki.fission.app/]]",
        "requires-reload": "yes"
    },
    {
        "title": "$:/plugins/commons/file-uploads-github",
        "description": "Github uploader for uploading binary files to external storage",
        "name": "File Uploads: Github",
        "author": "Saq Imtiaz",
        "core-version": ">=5.1.23",
        "plugin-priority": 0,
        "list": "readme settings license",
        "parent-plugin": "$:/plugins/commons/file-uploads",
        "version": "0.1.2",
        "plugin-type": "plugin",
        "dependents": "",
        "type": "application/json",
        "readme": "''Experimental'' proof of concept Github uploader module for the File Uploads plugin. Saves uploads to Github for use with Github pages. Based on the Octokat library. Requires that credentials have been filled in for the [[Github saver|$:/core/ui/ControlPanel/Saving/GitHub]].\n\nIntended for use with wikis hosted on Github Pages. \n\nPlease see:\n\n* The [[terms of service and guidelines|https://docs.github.com/en/pages/getting-started-with-github-pages/about-github-pages]] for using Github Pages. \n* How to for [[hosting a TiddlyWiki on Github Pages|https://kookma.github.io/TW5-GitHub-Saver/]].",
        "requires-reload": "yes"
    },
    {
        "title": "$:/plugins/sq/links-context-menu",
        "name": "Links Context Menu",
        "description": "Context menu for tiddler links",
        "author": "Saq Imtiaz",
        "core-version": ">=5.2.0",
        "plugin-priority": 0,
        "list": "readme settings",
        "version": "0.0.1",
        "plugin-type": "plugin",
        "dependents": "",
        "type": "application/json",
        "readme": "@@color:red;''Highly experimental - no support available. Use at your own risk.''@@\n\n* Adds an extensible and customisable context menu for links to tiddlers.\n* Display the browser default contextmenu by using the <kbd>Ctrl</kbd> key.\n* Add entries to the menu by adding tiddlers with the tag <<tag $:/tags/links-context-menu/menuitems>>\n** For an example see [[$:/plugins/sq/links-context-menu/menuitems/new-window]]\n\n//Screenshot://\n\n{{$:/plugins/sq/links-context-menu/screenshot.png}}",
        "requires-reload": "yes"
    },
    {
        "title": "$:/plugins/sq/node-files-PUT-support",
        "description": "EXPERIMENTAL node.js support for PUT uploader",
        "name": "Node.js files PUT uploader support",
        "author": "Saq Imtiaz",
        "core-version": ">=5.1.23",
        "plugin-priority": 0,
        "list": "readme",
        "dependents": "$:/plugins/sq/file-uploads-PUT $:/plugins/commons/file-uploads",
        "parent-plugin": "$:/plugins/commons/file-uploads",
        "version": "0.1.1",
        "plugin-type": "plugin",
        "type": "application/json",
        "readme": "@@color:red;''Highly experimental - no support available. Use at your own risk.''@@ \n\n* PUT support for the files directory on node.js. Allows the PUT uploader to be used with ~TiddlyWiki on node.js\n** Enables PUT requests to save files to the `files` directory that is server by the TW node.js server\n* The directory for uploaded files must be set to `files` (the default).",
        "requires-reload": "yes"
    },
    {
        "name": "Relink",
        "title": "$:/plugins/flibbles/relink",
        "description": "Flexibility when relinking renamed tiddlers",
        "author": "Flibbles",
        "version": "2.1.3",
        "core-version": ">=5.1.22",
        "source": "https://github.com/flibbles/tw5-relink",
        "demo": "http://flibbles.github.io/tw5-relink/",
        "list": "readme configuration license",
        "dependents": "",
        "plugin-type": "plugin",
        "type": "application/json",
        "readme": "When renaming a tiddler, Relink can update the fields, filters, and widgets\nof all other tiddlers. However, it works through whitelisting.\n\nIt's already configured to update tiddler titles for all core widgets, filters,\nand fields, but the whitelists can be customized for each of this in the\nconfiguration panel.\n\nSee <a href={{$:/plugins/flibbles/relink!!source}} class=\"tc-tiddlylink-external\">the tw5-relink website</a> for more details and examples.\n",
        "requires-reload": "yes"
    },
    {
        "name": "Relink Titles",
        "title": "$:/plugins/flibbles/relink-titles",
        "description": "Renames tiddlers with titles derived from Relinked tiddler",
        "author": "Flibbles",
        "version": "2.1.3",
        "core-version": ">=5.1.22",
        "parent-plugin": "$:/plugins/flibbles/relink",
        "source": "https://github.com/flibbles/tw5-relink",
        "demo": "http://flibbles.github.io/tw5-relink/",
        "list": "readme configuration",
        "dependents": "",
        "plugin-type": "plugin",
        "type": "application/json",
        "readme": "Highly customizable relinking of tiddler titles //related// to the renamed tiddler.\n\n* Rename a hierarchy of subtiddlers when renaming a root tiddler.\n* Make custom filter rules to rename other tiddlers the way you want when Relinking.\n* Integrates with other plugins for plugin-specific rules.\n\nSee <a href={{$:/plugins/flibbles/relink-titles!!source}} class=\"tc-tiddlylink-external\">the tw5-relink website</a> for more details and examples.\n\n{{$:/core/images/warning}} ''Warning:'' You must use //Relink// v1.10.2 or greater with this, or this plugin may delete some tiddler bodies while trying to relink titles.\n",
        "requires-reload": "yes"
    }
];

/*\
title: $:/plugins/tiddlywiki/pluginlibrary/libraryserver.js
type: application/javascript
module-type: library

A simple HTTP-over-window.postMessage implementation of a standard TiddlyWeb-compatible server. It uses real HTTP to load the individual tiddler JSON files.

\*/
(function(){

/*jslint node: true, browser: true */
/*global $tw: false */
"use strict";

// Listen for window messages
window.addEventListener("message",function listener(event){
	console.log("plugin library: Received message from",event.origin);
	console.log("plugin library: Message content",event.data);
	switch(event.data.verb) {
		case "GET":
			if(event.data.url === "recipes/library/tiddlers.json") {
				// Route for recipes/library/tiddlers.json
				event.source.postMessage({
					verb: "GET-RESPONSE",
					status: "200",
					cookies: event.data.cookies,
					url: event.data.url,
					type: "application/json",
					body: JSON.stringify(assetList,null,4)
				},"*");
			} else if(event.data.url.indexOf("recipes/library/tiddlers/") === 0) {
				var url = "recipes/library/tiddlers/" + encodeURIComponent(removePrefix(event.data.url,"recipes/library/tiddlers/"));
				// Route for recipes/library/tiddlers/<uri-encoded-tiddler-title>.json
				httpGet(url,function(err,responseText) {
					if(err) {
						event.source.postMessage({
							verb: "GET-RESPONSE",
							status: "404",
							cookies: event.data.cookies,
							url: event.data.url,
							type: "text/plain",
							body: "Not found"
						},"*");
					} else {
						event.source.postMessage({
							verb: "GET-RESPONSE",
							status: "200",
							cookies: event.data.cookies,
							url: event.data.url,
							type: "application/json",
							body: responseText
						},"*");
					}
				});
			} else {
				event.source.postMessage({
					verb: "GET-RESPONSE",
					status: "404",
					cookies: event.data.cookies,
					url: event.data.url,
					type: "text/plain",
					body: "Not found"
				},"*");
			}
			break;
	}
},false);

// Helper to remove string prefixes
function removePrefix(string,prefix) {
	if(string.indexOf(prefix) === 0) {
		return string.substr(prefix.length);
	} else {
		return string;
	}
}

// Helper for HTTP GET
function httpGet(url,callback) {
	var http = new XMLHttpRequest();
	http.open("GET",url,true);
	http.onreadystatechange = function() {
		if(http.readyState == 4 && http.status == 200) {
			callback(null,http.responseText);
		}
	};
	http.send();
}

})();

</script>
</head>
<body><h1>HelloThere</h1><p>This is the TiddlyWiki plugin library. It is not intended to be opened directly in the browser.</p><p>See <a href="https://tiddlywiki.com/" target="_blank">https://tiddlywiki.com/</a> for details of how to install plugins.</p></body>
</html>